@import url('https://fonts.googleapis.com/css2?family=Recursive:slnt,wght,CASL,CRSV,MONO@-15..0,300..1000,0..1,0..1,0..1&family=Unbounded:wght@300..900&display=swap');
@import "tailwindcss";

/* Allow animating custom props */
@property --beam-angle {
  syntax: '<angle>';
  inherits: false;
  initial-value: 0deg;
}

:root {
  --font-sans: "Recursive", ui-sans-serif, system-ui, -apple-system, "Segoe UI",
    sans-serif;
  --font-display: "Unbounded", ui-sans-serif, system-ui, -apple-system, "Segoe UI",
    sans-serif;

  /* Dark (default): "night market terminal" */
  --bg: #07090d;
  --bg2: #05060a;
  --panel: rgba(255, 255, 255, 0.05);
  --panel2: rgba(255, 255, 255, 0.03);
  --text: rgba(255, 255, 255, 0.92);
  --muted: rgba(255, 255, 255, 0.62);
  --hairline: rgba(255, 255, 255, 0.12);

  --accent: #a3ff12; /* acid */
  --accent2: #00e5ff; /* electric */
  --accent3: #ff3df2; /* hot */

  --success: #35f2a6;
  --danger: #ff4d6d;
}

html {
  width: 100%;
  min-height: 100dvh;
  /* If the browser reserves a scrollbar gutter, don't show white behind it */
  background: linear-gradient(180deg, var(--bg), var(--bg2));
}

html[data-theme="dark"] {
  color-scheme: dark;
}

html[data-theme="light"] {
  color-scheme: light;
  --bg: #faf7f0;
  --bg2: #ffffff;
  --panel: rgba(5, 6, 10, 0.06);
  --panel2: rgba(5, 6, 10, 0.04);
  --text: rgba(5, 6, 10, 0.92);
  --muted: rgba(5, 6, 10, 0.62);
  --hairline: rgba(5, 6, 10, 0.14);

  --accent: #0b5cff;
  --accent2: #ff3d00;
  --accent3: #00a58a;
}

body {
  margin: 0;
  min-height: 100vh;
  width: 100%;
  overflow-x: hidden;
  font-family: var(--font-sans);
  font-variation-settings: "MONO" 0.08, "CASL" 0.3;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background:
    radial-gradient(1200px 600px at 18% 20%, color-mix(in oklab, var(--accent2) 24%, transparent) 0%, transparent 60%),
    radial-gradient(900px 500px at 78% 12%, color-mix(in oklab, var(--accent3) 16%, transparent) 0%, transparent 58%),
    radial-gradient(1000px 700px at 65% 78%, color-mix(in oklab, var(--accent) 12%, transparent) 0%, transparent 62%),
    linear-gradient(180deg, var(--bg), var(--bg2));
  color: var(--text);
}

/* subtle grid / “terminal glass” */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background:
    linear-gradient(to right, color-mix(in oklab, var(--hairline) 35%, transparent) 1px, transparent 1px),
    linear-gradient(to bottom, color-mix(in oklab, var(--hairline) 35%, transparent) 1px, transparent 1px);
  background-size: 64px 64px;
  opacity: 0.2;
  mix-blend-mode: overlay;
}

.no-scrollbar {
  scrollbar-width: none;
  -ms-overflow-style: none;
}
.no-scrollbar::-webkit-scrollbar {
  display: none;
}

.font-display {
  font-family: var(--font-display);
  letter-spacing: -0.06em;
}

.beam-pill {
  position: relative;
  border-radius: 9999px;
  border: 1px solid var(--hairline);
  background: var(--panel);
  backdrop-filter: blur(10px);
}
.beam-pill::before {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: 9999px;
  padding: 1px; /* border thickness */
  background: conic-gradient(
    from var(--beam-angle),
    transparent 0deg,
    color-mix(in oklab, var(--accent2) 90%, transparent) 30deg,
    transparent 90deg,
    color-mix(in oklab, var(--accent) 90%, transparent) 170deg,
    transparent 240deg,
    color-mix(in oklab, var(--accent3) 90%, transparent) 310deg,
    transparent 360deg
  );
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  animation: beamSpin 2600ms linear infinite;
  opacity: 0.9;
}
@keyframes beamSpin {
  to {
    --beam-angle: 360deg;
  }
}

.hero-clip {
  position: absolute;
  inset: -20%;
  background:
    radial-gradient(closest-side, color-mix(in oklab, var(--accent2) 24%, transparent), transparent 70%),
    conic-gradient(from 180deg, color-mix(in oklab, var(--accent) 35%, transparent), transparent, color-mix(in oklab, var(--accent3) 24%, transparent));
  filter: blur(22px) saturate(1.2);
  opacity: 0.55;
  animation: clipMorph 8.5s ease-in-out infinite;
}
@keyframes clipMorph {
  0% {
    clip-path: polygon(18% 16%, 78% 8%, 92% 42%, 70% 84%, 28% 92%, 10% 58%);
    transform: rotate(-6deg) scale(1.02);
  }
  50% {
    clip-path: polygon(8% 26%, 62% 6%, 92% 24%, 88% 72%, 40% 94%, 6% 78%);
    transform: rotate(10deg) scale(1.06);
  }
  100% {
    clip-path: polygon(18% 16%, 78% 8%, 92% 42%, 70% 84%, 28% 92%, 10% 58%);
    transform: rotate(-6deg) scale(1.02);
  }
}

.drop-char {
  display: inline-block;
  transform: translateY(-120%);
  opacity: 0;
  animation: letterDrop 720ms cubic-bezier(.18,.78,.14,1) forwards;
}
@keyframes letterDrop {
  0% { transform: translateY(-120%); opacity: 0; }
  65% { transform: translateY(8%); opacity: 1; }
  100% { transform: translateY(0%); opacity: 1; }
}

.marquee {
  position: relative;
  overflow: hidden;
  mask-image: linear-gradient(to right, transparent 0%, #000 10%, #000 90%, transparent 100%);
}
.marquee-track {
  display: flex;
  width: max-content;
  gap: 18px;
  animation: marquee 18s linear infinite;
}
@keyframes marquee {
  to { transform: translateX(-50%); }
}

.flash-card {
  --mx: 50%;
  --my: 50%;
  position: relative;
  border-radius: 24px;
  border: 1px solid var(--hairline);
  background:
    radial-gradient(420px 240px at var(--mx) var(--my), color-mix(in oklab, var(--accent2) 22%, transparent) 0%, transparent 60%),
    linear-gradient(180deg, var(--panel), var(--panel2));
  backdrop-filter: blur(10px);
}
.flash-card::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 24px;
  pointer-events: none;
  background:
    radial-gradient(380px 220px at var(--mx) var(--my), rgba(255,255,255,0.10), transparent 65%);
  opacity: 0;
  transition: opacity 160ms ease;
}
.flash-card:hover::after {
  opacity: 1;
}

.carousel {
  position: relative;
  height: 320px;
  overflow: hidden;
  border-radius: 28px;
}
.carousel-card {
  position: absolute;
  inset: 0;
  transform-origin: 50% 60%;
  animation: carouselStep 9s ease-in-out infinite;
}
.carousel-card[data-slot="2"] { animation-delay: -3s; }
.carousel-card[data-slot="3"] { animation-delay: -6s; }
@keyframes carouselStep {
  0%   { transform: translate3d(0, 0, 0) scale(1); filter: saturate(1); opacity: 1; z-index: 3; }
  33%  { transform: translate3d(26px, 18px, 0) rotate(3deg) scale(.92); filter: saturate(.9); opacity: .85; z-index: 2; }
  66%  { transform: translate3d(-28px, 24px, 0) rotate(-4deg) scale(.88); filter: saturate(.85); opacity: .72; z-index: 1; }
  100% { transform: translate3d(0, 0, 0) scale(1); filter: saturate(1); opacity: 1; z-index: 3; }
}

@keyframes carouselStepMobile {
  0%   { transform: translate3d(0, 0, 0) scale(1); filter: saturate(1); opacity: 1; z-index: 3; }
  33%  { transform: translate3d(14px, 10px, 0) rotate(2deg) scale(.93); filter: saturate(.92); opacity: .86; z-index: 2; }
  66%  { transform: translate3d(-16px, 12px, 0) rotate(-3deg) scale(.90); filter: saturate(.88); opacity: .76; z-index: 1; }
  100% { transform: translate3d(0, 0, 0) scale(1); filter: saturate(1); opacity: 1; z-index: 3; }
}

/* Mobile performance + spacing tweaks */
@media (max-width: 640px) {
  body::before {
    background-size: 48px 48px;
    opacity: 0.16;
  }

  .hero-clip {
    inset: -35%;
    filter: blur(18px) saturate(1.1);
    opacity: 0.48;
  }

  .carousel {
    height: 260px;
  }
  .carousel-card {
    animation-name: carouselStepMobile;
  }

  .marquee-track {
    animation-duration: 26s;
  }
}

/* Accessibility: respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .hero-clip,
  .marquee-track,
  .carousel-card,
  .beam-pill::before,
  .drop-char {
    animation: none !important;
  }
  .drop-char {
    transform: none !important;
    opacity: 1 !important;
  }
}
